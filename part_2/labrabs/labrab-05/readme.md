# Part-02  

[видео с Лекции](https://bbb.psaa.ru/playback/presentation/2.3/40dd0e9626dd74bc1dc60f4516cdfe7a791b8793-1741668655414)  

## Labrab-05  

> 18.03.2025  

---  

Создать базу данных SQLite `products.db` (можно создать пустую базу данных, например, с помощью DB Browser SQLite).  

**task-01**  

Взять файл с предыдущей лабораторной работы - `products.json`  
Его формат был такой:  

```txt
[
    {
	    "id": 182763343,
        "brand": "Pocketbook",
        "name": "Электронная книга 970",
        "reviewRating": 4.8,
        "feedbacks": 203,
        "price": 3629800,
        "totalQuantity": 32,
        "link": "https://www.wildberries.ru/catalog/182763343/detail.aspx"
    },
    ...
]
```

Написать функцию, которая создаёт таблицу `products`  
Написать функцию, которая считывает данные из файла `products.json`  
- и добавляет все данные в виде записей в таблицу `products`  
- добавить дополнительно первое поле в записи - idProduct - сделать его первичным ключом и установить ему автоинкремент  
- дело в том, что поле id из файла `products.json` может в некоторых случаях повторяться - оно не уникально  

---  

**task-02**  

Написать функцию, которая:  
- с помощью SQL запроса получает из таблицы `products`  
- записи отсортированные по убыванию рейтинга  
- и берёт только первые десять записей  
- полученные данные вывести на экран  

---  

**task-03**  

Написать функцию, которая:  
- с помощью SQL запроса получает из таблицы `products`  
- записи, которые имеют рейтинг выше среднего рейтинга по всем записям  
- и берёт только первые десять записей  
- полученные данные вывести на экран  

---  

**task-04**  

Написать функцию, которая:  
- с помощью SQL запроса определяет сколько записей в таблице `products`  
- имеют оставшееся общее количество товара меньшее 5  
- результат вывести на экран  

---  

**task-05**  

Написать функцию, которая:  
- с помощью SQL запроса удаляет из таблицы `products`  
- записи, в которых оставшееся общее количество товара меньше 5  
- проверить можно с помощью функции из предыдущего задания  

---  
